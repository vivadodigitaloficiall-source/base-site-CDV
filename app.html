<!DOCTYPE html>
<html lang="pt-BR">
<head>
	<meta charset="UTF-8" />
	<meta name="viewpor			'/ferramentas':()=>import('./docs/assets/js/pages/ferramentas.js').then(m=>m.render(view)),
			'/desafios':()=>import('./docs/assets/js/pages/desafios.js').then(m=>m.render(view)),
			'/conquistas':()=>import('./docs/assets/js/pages/conquistas.js').then(m=>m.render(view)),
			'/certificados':()=>import('./docs/assets/js/pages/certificados.js').then(m=>m.render(view)),
			'/comunidade':()=>import('./docs/assets/js/pages/comunidade.js').then(m=>m.render(view)),
			'/afiliados':()=>import('./docs/assets/js/pages/afiliados.js').then(m=>m.render(view)),
			'/suporte':()=>import('./docs/assets/js/pages/suporte.js').then(m=>m.render(view)),
			'/perfil':()=>import('./docs/assets/js/pages/perfil.js').then(m=>m.render(view)),
			'/configuracoes':()=>import('./docs/assets/js/pages/configuracoes.js').then(m=>m.render(view)),t="width=device-width,initial-scale=1" />
	<title>Dashboard • Código de Vendas VIP</title>
	<meta name="description" content="Área de membros: dashboard, cursos, materiais, desafios, comunidade e mais." />
	<link rel="stylesheet" href="docs/assets/css/base.css" />
	<link rel="stylesheet" href="docs/assets/css/layout.css" />
	<link rel="stylesheet" href="docs/assets/css/components.css" />
	<script>(function(){const r=document.documentElement;const saved=localStorage.getItem('theme');if(saved){r.dataset.theme=saved;}else{const prefers=matchMedia('(prefers-color-scheme: light)').matches?'light':'';r.dataset.theme=prefers;}r.classList.add('no-transition');setTimeout(()=>r.classList.remove('no-transition'),50);})();</script>
	<script>try{if(!localStorage.getItem('profile')) location.replace('login.html');}catch{}</script>
	<style>
		.app-shell{display:grid;grid-template-columns:240px 1fr;min-height:100dvh;}
		nav.side{background:var(--surface);border-right:1px solid var(--border);display:flex;flex-direction:column;}
		.side-top{padding:1rem .9rem;display:flex;align-items:center;gap:.6rem;font-weight:600;font-size:var(--font-size-sm);} 
		.menu{flex:1;display:flex;flex-direction:column;gap:.25rem;padding:.25rem .6rem .75rem .6rem;overflow-y:auto;} 
		.menu a{display:flex;align-items:center;gap:.6rem;padding:.65rem .7rem;font-size:var(--font-size-sm);border-radius:var(--radius-md);color:var(--muted);} 
		.menu a:hover{background:var(--surface-alt);color:var(--text);} .menu a.active{background:var(--primary);color:#fff;} 
		.menu-group{margin-top:1.25rem;font-size:var(--font-size-xs);text-transform:uppercase;letter-spacing:.06em;color:var(--muted);padding:.4rem .7rem .3rem;} 
		.user-panel{padding:1rem .85rem;border-top:1px solid var(--border);display:flex;flex-direction:column;gap:.5rem;font-size:var(--font-size-xs);} 
		.user-panel .row{display:flex;align-items:center;gap:.6rem;} 
		.main-area{display:flex;flex-direction:column;min-height:100dvh;} 
		.app-header{display:flex;align-items:center;justify-content:space-between;padding:.85rem var(--container-pad);border-bottom:1px solid var(--border);background:var(--surface);position:sticky;top:0;z-index:var(--z-nav);} 
		.breadcrumbs{margin-bottom:0;} 
		#view{flex:1;padding:1.5rem var(--container-pad);}
		.mobile-trigger{display:none;}
		@media (max-width:960px){.app-shell{grid-template-columns:1fr;} nav.side{position:fixed;inset:0;translate:-100% 0;transition:translate var(--dur) var(--ease);z-index:var(--z-overlay);max-width:280px;} nav.side.open{translate:0 0;} .mobile-trigger{display:inline-flex;align-items:center;justify-content:center;width:42px;height:42px;border:1px solid var(--border);border-radius:var(--radius-md);} }
		.widget-grid{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));margin-top:1.25rem;}
	</style>
</head>
<body>
	<div class="app-shell">
		<nav class="side" aria-label="Menu lateral" id="sideNav">
			<div class="side-top"><svg aria-hidden="true" viewBox="0 0 32 32" width="26" height="26" fill="none"><circle cx="16" cy="16" r="16" fill="url(#g)"/><path d="M10 21L15 12l3 5 4-8-.3 12H10Z" stroke="#fff" stroke-width="1.5" stroke-linejoin="round"/><defs><linearGradient id="g" x1="4" y1="4" x2="28" y2="28" gradientUnits="userSpaceOnUse"><stop stop-color="#5B8CFF"/><stop offset="1" stop-color="#00C2A8"/></linearGradient></defs></svg> <span>CDV VIP</span></div>
			<div class="menu" role="list" id="mainMenu">
				<div class="menu-group">Navegação</div>
				<a role="listitem" href="#/dashboard" data-route>Dashboard</a>
				<a role="listitem" href="#/cursos" data-route>Cursos</a>
				<a role="listitem" href="#/materiais" data-route>Materiais</a>
				<a role="listitem" href="#/ferramentas" data-route>Ferramentas</a>
				<a role="listitem" href="#/desafios" data-route>Desafios</a>
				<a role="listitem" href="#/conquistas" data-route>Conquistas</a>
				<a role="listitem" href="#/certificados" data-route>Certificados</a>
				<a role="listitem" href="#/afiliados" data-route>Afiliados</a>
				<a role="listitem" href="#/comunidade" data-route>Comunidade</a>
				<a role="listitem" href="#/suporte" data-route>Suporte</a>
				<div class="menu-group">Conta</div>
				<a role="listitem" href="#/perfil" data-route>Perfil</a>
				<a role="listitem" href="#/configuracoes" data-route>Configurações</a>
			</div>
			<div class="user-panel">
				<div class="row"><div class="avatar sm" id="userAvatar" aria-hidden="true">U</div><div><strong id="userName">Usuário</strong><br><span class="badge level-bronze" id="userLevel">Bronze</span></div></div>
				<button class="btn-ghost" id="btnLogout" style="justify-content:flex-start;">Sair</button>
				<button class="btn-secondary" id="btnUpgrade" style="justify-content:center;display:none;">Upgrade</button>
			</div>
		</nav>
		<div class="main-area">
			<header class="app-header" role="banner">
				<div class="cluster">
					<button class="mobile-trigger" id="openSide" aria-label="Abrir menu lateral"><svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="1.6" stroke-linecap="round"><path d="M4 6h16M4 12h16M4 18h16"/></svg></button>
					<nav class="breadcrumbs" aria-label="Breadcrumbs"><span id="bc">Dashboard</span></nav>
				</div>
				<div class="cluster" style="gap:.5rem;">
					<button class="btn-ghost" id="themeToggle" aria-label="Alternar tema">Tema</button>
					<button class="btn-ghost" id="notificationsBtn" aria-label="Notificações">🔔</button>
				</div>
			</header>
			<main id="view" tabindex="-1" aria-live="polite"></main>
			<footer class="site-footer" role="contentinfo" style="margin-top:auto;">
				<div class="footer-inner" style="padding:1.25rem var(--container-pad);display:flex;justify-content:space-between;align-items:center;">
					<small style="color:var(--muted);">© <span id="year"></span> Código de Vendas VIP</small>
					<small style="color:var(--muted);"><a href="#/suporte">Suporte</a></small>
				</div>
			</footer>
		</div>
	</div>
	<div id="modal-root"></div>
	<div id="toast-root" aria-live="polite" aria-atomic="true"></div>
	<script type="module">
		import './docs/assets/js/analytics.js';
		import './docs/assets/js/router.js';
		import './docs/assets/js/ui.js';
		import './docs/assets/js/components.js';
		import './docs/assets/js/store.js';
		import './docs/assets/js/auth.js';
		
		// Setup de usuário de teste para desenvolvimento
		if(!localStorage.getItem('profile')){
			const testUser = {
				uid: 'test-user-123',
				email: 'teste@codigodevendas.com',
				displayName: 'Usuário Teste',
				claims: { level: 'prata' }
			};
			localStorage.setItem('profile', JSON.stringify(testUser));
			console.log('✅ Usuário de teste criado:', testUser);
		}
		
		const y=document.getElementById('year');if(y) y.textContent=new Date().getFullYear();
		const view=document.getElementById('view');
		const routes={
			'/dashboard':()=>import('./docs/assets/js/pages/dashboard.js').then(m=>m.render(view)),
			'/cursos':()=>import('./docs/assets/js/pages/cursos.js').then(m=>m.render(view)),
			'/curso':()=>import('./docs/assets/js/pages/curso-detalhe.js').then(m=>m.render(view)),
			'/materiais':()=>import('./docs/assets/js/pages/materiais.js').then(m=>m.render(view)),
			'/ferramentas':()=>import('./docs/assets/js/pages/ferramentas.js').then(m=>m.render(view)),
			'/desafios':()=>import('./docs/assets/js/pages/desafios.js').then(m=>m.render(view)),
			'/conquistas':()=>import('./docs/assets/js/pages/conquistas.js').then(m=>m.render(view)),
			'/certificados':()=>import('./docs/assets/js/pages/certificados.js').then(m=>m.render(view)),
			'/comunidade':()=>import('./docs/assets/js/pages/comunidade.js').then(m=>m.render(view)),
			'/afiliados':()=>import('./docs/assets/js/pages/afiliados.js').then(m=>m.render(view)),
			'/suporte':()=>import('./docs/assets/js/pages/suporte.js').then(m=>m.render(view)),
			'/perfil':()=>import('./docs/assets/js/pages/perfil.js').then(m=>m.render(view)),
			'/configuracoes':()=>import('./docs/assets/js/pages/configuracoes.js').then(m=>m.render(view)),
		};
		function navigate(){const hash=location.hash||'#/dashboard';const path=hash.replace('#','').split('?')[0];const base=path.split('/')[1]==='curso'?'/curso':path;const fn=routes[base];document.querySelectorAll('[data-route]').forEach(a=>a.classList.toggle('active',a.getAttribute('href')===`#${base}`));document.getElementById('bc').textContent=base.replace('/','')||'dashboard';if(fn){view.innerHTML='<div class="skeleton" style="height:160px;border-radius:var(--radius-lg);"></div>';fn().catch(()=>view.innerHTML='<p>Erro ao carregar.</p>');}else{view.innerHTML='<p>Rota não encontrada.</p>';}}
		window.addEventListener('hashchange',navigate);navigate();
		// Tema
		document.getElementById('themeToggle')?.addEventListener('click',()=>{const r=document.documentElement;const cur=r.dataset.theme==='light'?'':'light';r.dataset.theme=cur;localStorage.setItem('theme',cur);});
		// Mobile side
		const side=document.getElementById('sideNav');document.getElementById('openSide')?.addEventListener('click',()=>side.classList.add('open'));side.addEventListener('click',e=>{if(e.target===side) side.classList.remove('open');});
		// Logout stub
		document.getElementById('btnLogout')?.addEventListener('click',()=>{localStorage.removeItem('auth');location.href='login.html';});
	</script>
</body>
</html>